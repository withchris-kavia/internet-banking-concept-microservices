{"is_source_file": true, "format": "Java", "description": "This file defines a Spring configuration class 'GatewayConfiguration' which creates a global filter for the API Gateway. The filter adds an authentication user ID header to requests based on the authenticated principal, defaulting to 'SYSTEM USER' if no principal is present.", "external_files": ["org.springframework.cloud.gateway.filter.GlobalFilter", "org.springframework.context.annotation.Bean", "org.springframework.context.annotation.Configuration", "java.security.Principal", "reactor.core.publisher.Mono"], "external_methods": ["exchange.getPrincipal()", "Principal::getName", "exchange.getRequest()", "mutate()", "header()", "build()", "chain::filter", "Mono.fromRunnable"], "published": ["GatewayConfiguration"], "classes": [{"name": "GatewayConfiguration", "description": "Configuration class that defines a global filter for the API Gateway, adding user authentication info to request headers."}], "methods": [{"name": "customGlobalFilter", "description": "Creates and returns a GlobalFilter bean that extracts the user principal and adds an X-Auth-Id header to proxied requests, defaulting to 'SYSTEM USER' if no user is authenticated."}], "calls": ["exchange.getPrincipal()", "chain.filter()", "Mono.fromRunnable()"], "search-terms": ["GatewayConfiguration", "GlobalFilter", "Spring Cloud Gateway", "request header", "authentication", "X-Auth-Id", "reactor Mono"], "state": 2, "file_id": 2, "knowledge_revision": 388, "git_revision": "cb60d77071c893edc88566bd85e538c65a9c361a", "hash": "999be2d139eb48cf1801fe544ae2a0df", "format-version": 4, "code-base-name": "internet-banking-concept-microservices", "filename": "internet-banking-api-gateway/src/main/java/com/javatodev/finance/configuration/GatewayConfiguration.java", "revision_history": [{"388": "cb60d77071c893edc88566bd85e538c65a9c361a"}]}