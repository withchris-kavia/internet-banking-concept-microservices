{"is_source_file": true, "format": "Java", "description": "This file defines the UserService class, a service component in a Spring Boot application responsible for managing user creation, retrieval, and updating operations, including interactions with Keycloak for identity management and database repositories.", "external_files": ["com.javatodev.finance.exception.*", "com.javatodev.finance.model.dto.Status", "com.javatodev.finance.model.dto.User", "com.javatodev.finance.model.dto.UserUpdateRequest", "com.javatodev.finance.model.entity.UserEntity", "com.javatodev.finance.model.mapper.UserMapper", "com.javatodev.finance.model.repository.UserRepository", "com.javatodev.finance.model.rest.response.UserResponse", "com.javatodev.finance.service.rest.BankingCoreRestClient", "org.keycloak.representations.idm.CredentialRepresentation", "org.keycloak.representations.idm.UserRepresentation", "org.springframework.data.domain.Page", "org.springframework.data.domain.Pageable", "org.springframework.stereotype.Service"], "external_methods": ["com.javatodev.finance.exception.UserAlreadyRegisteredException", "com.javatodev.finance.exception.InvalidEmailException", "com.javatodev.finance.exception.InvalidBankingUserException", "com.javatodev.finance.exception.EntityNotFoundException", "com.javatodev.finance.model.mapper.UserMapper.convertToEntity", "com.javatodev.finance.model.mapper.UserMapper.convertToDto", "com.javatodev.finance.model.dto.User.getEmail", "com.javatodev.finance.model.dto.User.getIdentification", "com.javatodev.finance.model.dto.User.getPassword", "com.javatodev.finance.model.dto.UserUpdateRequest.getStatus", "com.javatodev.finance.model.dto.User.setAuthId", "com.javatodev.finance.model.dto.User.setStatus", "com.javatodev.finance.model.dto.User.setIdentification", "com.javatodev.finance.model.dto.User.setEmail", "com.javatodev.finance.model.dto.User.setId", "com.javatodev.finance.model.repository.UserRepository.save", "com.javatodev.finance.service.rest.BankingCoreRestClient.readUser", "com.javatodev.finance.service.KeycloakUserService.readUserByEmail", "com.javatodev.finance.service.KeycloakUserService.createUser", "com.javatodev.finance.service.KeycloakUserService.readUser", "com.javatodev.finance.service.KeycloakUserService.updateUser"], "published": ["createUser", "readUsers", "readUser", "updateUser"], "classes": [{"name": "UserService", "description": "Service class handling user-related operations, including creation, retrieval, and update, with integrations to external identity management (Keycloak) and persistence layers."}], "methods": [{"name": "createUser", "description": "Creates a new user by validating against existing users, verifying external data, creating a user in Keycloak, and saving to the database."}, {"name": "readUsers", "description": "Retrieves a paginated list of users from the database and enriches them with Keycloak data."}, {"name": "readUser", "description": "Fetches a specific user by ID from the database."}, {"name": "updateUser", "description": "Updates user information and status, enabling the Keycloak user account if approved."}], "calls": ["keycloakUserService.readUserByEmail", "bankingCoreRestClient.readUser", "keycloakUserService.createUser", "keycloakUserService.readUser", "keycloakUserService.updateUser", "userRepository.save", "userRepository.findById", "userMapper.convertToEntity", "userMapper.convertToDto"], "search-terms": ["UserService", "createUser", "readUsers", "updateUser", "Keycloak", "bankingCoreRestClient", "UserRepository", "UserMapper"], "state": 2, "file_id": 67, "knowledge_revision": 454, "git_revision": "c96416a40a0c25cfe97aed11fc45e25d43200f88", "hash": "b347daaa584721675921a189cfff0d4f", "format-version": 4, "code-base-name": "internet-banking-concept-microservices", "filename": "internet-banking-user-service/src/main/java/com/javatodev/finance/service/UserService.java", "revision_history": [{"454": "c96416a40a0c25cfe97aed11fc45e25d43200f88"}]}